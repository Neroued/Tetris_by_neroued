from random import choice
from classBlock import Block

#定义spawn()，调用Block类，生成一个下落的方块对象

colors = ['blue','cyan','green','orange','purple','red','yellow']
types = ["I", "J", "L", "O", "T", "S", "Z"]

'''
I = [
    [[0,-1],[0,0],[0,1],[0,2]],
    [[-1,0],[0,0],[1,0],[2,0]]
]

J = [
    [[0,-1],[0,0],[0,1],[-1,1]],
    [[-1,-1],[-1,0],[0,0],[1,0]],
    [[1,-1],[0,-1],[0,0],[0,1]],
    [[1,1],[-1,0],[0,0],[1,0]]
]

L = [
    [[0,-1],[0,0],[0,1],[1,1]],
    [[-1,1],[-1,0],[0,0],[1,0]],
    [[-1,-1],[0,-1],[0,0],[0,1]],
    [[1,-1],[-1,0],[0,0],[1,0]]
]

O = [
    [[0,0],[1,0],[0,1],[1,1]]
]

T = [
    [[-1,0],[0,0],[1,0],[0,1]],
    [[-1,0],[0,0],[0,-1],[0,1]],
    [[-1,0],[0,0],[1,0],[0,-1]],
    [[0,-1],[0,0],[0,1],[1,0]]
]

S = [
    [[-1,1],[0,1],[0,0],[1,0]],
    [[-1,-1],[-1,0],[0,0],[0,1]]
]

Z = [
    [[-1,0],[0,0],[0,1],[1,1]],
    [[0,1],[0,0],[1,0],[1,-1]]
]

'''

#字典中存放方块的类型与对应的几种旋转状态

type_dict = {'I': [[[0, -1], [0, 0], [0, 1], [0, 2]],
                   [[-1, 0], [0, 0], [1, 0], [2, 0]]], 
             'J': [[[0, -1], [0, 0], [0, 1], [-1, 1]], 
                   [[-1, -1], [-1, 0], [0, 0], [1, 0]], 
                   [[1, -1], [0, -1], [0, 0], [0, 1]], 
                   [[1, 1], [-1, 0], [0, 0], [1, 0]]], 
             'L': [[[0, -1], [0, 0], [0, 1], [1, 1]], 
                   [[-1, 1], [-1, 0], [0, 0], [1, 0]], 
                   [[-1, -1], [0, -1], [0, 0], [0, 1]], 
                   [[1, -1], [-1, 0], [0, 0], [1, 0]]], 
             'O': [[[0, 0], [1, 0], [0, 1], [1, 1]]], 
             'T': [[[-1, 0], [0, 0], [1, 0], [0, 1]], 
                   [[-1, 0], [0, 0], [0, -1], [0, 1]], 
                   [[-1, 0], [0, 0], [1, 0], [0, -1]], 
                   [[0, -1], [0, 0], [0, 1], [1, 0]]], 
             'S': [[[-1, 1], [0, 1], [0, 0], [1, 0]], 
                   [[-1, -1], [-1, 0], [0, 0], [0, 1]]], 
             'Z': [[[-1, 0], [0, 0], [0, 1], [1, 1]], 
                   [[0, 1], [0, 0], [1, 0], [1, -1]]]}


def spawn():
    tmpblock = Block()
    tmpblock.color = choice(colors)
    tmpblock.center = [7,3]
    tmpblock.coord = type_dict[choice(types)][0]

    return tmpblock

